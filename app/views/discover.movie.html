<div class="cm-sidebar">
    <h2>Filters</h2>
    <nav>
        <ul>
            <li class="link" ng-repeat="question in data.questions.movies" data-nr="{{question.nr}}" data-id="{{question.id}}" ng-click="getQuestion(question.nr, question.id)">
                <span class="title" ng-click="getQuestion(question.nr, question.id)">{{question.title}}</span>
                <label class="label-switch" ng-click="toggleQuestion(question.id, $event);">
                    <input type="checkbox" ng-checked="isToggled(question.id)" />
                    <div class="checkbox"></div>
                </label>
            </li>
        </ul>
    </nav>
</div>

<div class="cm-content discover-movie">

    <button ng-click="getMovies()">Recommend me some movies!</button>

    <br />
    <br />

    <h1 ng-show="data.questionNo">{{data.questionNo}}. {{ data.questions.movies[data.questionNo-1].question }}</h1>
    <span class="instructions">{{ data.questions.movies[data.questionNo-1].instructions }}</span>

    <hr>

    <section class="answers" ng-hide="data.results" ng-switch="answerType" ng-show="isToggled('genre')">
        <div class="genres multiple-choice" ng-switch-when="multiple">
            <ul>
                <li data-id="{{result.id}}" ng-repeat="result in data.multipleResults" ng-click="addToSelection(result.id, result.name)">{{ result.name }}</li>
            </ul>
            <button class="btn-clear" ng-click="clearGenres()">Clear all</button>
        </div>
        <div class="slider slider-duration-wrapper" ng-switch-when="slider-duration" ng-show="isToggled('duration')">

            <rzslider
              rz-slider-model="data.answer"
              rz-slider-floor="0"
              rz-slider-ceil="data.questions.movies[data.questionNo-1].answers.length - 1"
              rz-slider-hide-limit-labels="true"
              rz-slider-always-show-bar="true"></rzslider>

            <div class="slider-duration-bg">
                <ul>
                    <li ng-repeat="value in data.questions.movies[data.questionNo-1].answers">
                        {{value.label}}
                    </li>
                </ul>
            </div>

        </div>
        <div class="slider slider-rating-wrapper" ng-switch-when="slider-rating" ng-show="isToggled('rating')">

            <rzslider
              rz-slider-model="data.answer"
              rz-slider-floor="1"
              rz-slider-ceil="data.ratings.length"
              rz-slider-hide-limit-labels="true"
              rz-slider-always-show-bar="true"></rzslider>

            <div class="slider-rating-bg">
                <ul>
                    <li ng-repeat="rating in data.ratings">
                        {{ rating }}
                    </li>
                </ul>
            </div>

        </div>
        <div class="input" ng-switch-when="input_cast" ng-show="isToggled('cast')">
            Selected: {{ data.selectedCast }}
            <form class="search-bar" role="search" ng-submit="getPerson(inputCast)">
                <input type="search" name="answer" placeholder="Enter Search" ng-model="inputCast" />
                <button type="submit">
                    <img src="https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/search-icon.png" alt="Search Icon">
                </button>
            </form>
            <div class="cast" id="results_cast" class="row multiple-choice" ng-show="data.peopleSearchResults">
                <span ng-hide="data.peopleSearchResults.results.length">No people found !</span>
                <div class="person" ng-repeat="person in data.peopleSearchResults.results">
                    <div class="portrait">
                        <img ng-click="toggleCast(person.id, person.name)" ng-if="person.profile_path" src="https://image.tmdb.org/t/p/w150{{ person.profile_path }}" alt="">
                        <img ng-click="toggleCast(person.id, person.name)" ng-if="person.profile_path == null" src="http://dummyimage.com/150x220/ccc/ccc.jpg" alt="">
                    </div>
                    <div class="info">
                        <span class="name">{{ person.name }}</span>
                        <ul>
                            <li ng-repeat="film in person.known_for">
                                {{film.title}}
                            </li>
                        </ul>
                    </div>
                </div>
                <br>
            </div>
        </div>
        <div class="select" ng-switch-when="select_year" ng-show="isToggled('year')">
            <selectize placeholder='Select a year...' config="singleConfig" ng-model="data.answer"></selectize>
            {{ data.answer }}
        </div>
        <div class="input" ng-switch-when="input_crew" ng-show="isToggled('crew')">
            Selected: {{ data.selectedCrew }}
            <form class="search-bar" role="search" ng-submit="getPerson(inputCrew)">
                <input type="search" name="answer" placeholder="Enter Search" ng-model="inputCrew" />
                <button type="submit">
                    <img src="https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/search-icon.png" alt="Search Icon">
                </button>
            </form>
            <div id="results_crew" class="row multiple-choice" ng-show="data.peopleSearchResults">
                <span ng-hide="data.peopleSearchResults.results.length">No people found !</span>
                <div class="person" ng-repeat="person in data.peopleSearchResults.results">
                    {{ person.name }} <br />
                    <img ng-click="toggleCrew(person.id, person.name)" ng-if="person.profile_path" src="https://image.tmdb.org/t/p/w150{{ person.profile_path }}" alt="">
                    <img ng-click="toggleCrew(person.id, person.name)" ng-if="person.profile_path == null" src="http://dummyimage.com/150x220/ccc/ccc.jpg" alt="">
                </div>
                <br>
            </div>
        </div>

        <div ng-switch-default>
            <p>Hi there! Please select some filters.</p>
        </div>
    </section>

    <section id="results" ng-show="data.results">
        <span ng-hide="data.results.length">No movies found !</span>
        <div ng-repeat="movie in data.results">
            {{ movie.title }}
        </div>
    </section>

</div>